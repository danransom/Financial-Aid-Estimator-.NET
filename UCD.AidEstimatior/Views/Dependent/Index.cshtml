@model Dictionary<string, string>
@{
    Layout = "_BasicLayout";
    string HeaderText = ViewData["HeaderText"].ToString();
    string ShowErrors = ViewData["Errors"].ToString().Length > 0 ? "" : "display:none";
    string Errors = ViewData["Errors"].ToString();
}

<div class="header">@Html.Raw(HeaderText)</div>

<form id="form" method="post" class="form-inline" action="@Url.Action("Estimate", "Dependent")" asp-antiforgery="true">

    <div class="alert alert-warning">All fields are required</div>

    <div class="alert alert-danger" id="errorList" style="@ShowErrors">@Html.Raw(Errors)</div>

    <div class="col-md-12 col-lg-12">
        <div class="panel panel-primary">
            <div class="panel-heading"><strong>Household</strong></div>
            <div class="panel-body">
                <div class="form-group">
                    <label for="inputNumberInHousehold" class="form-label">Number in Household:</label>
                    <input type="text" id="inputNumberInHousehold" name="NumberInHousehold" class="form-control form-fixed-width" value="@Model["NumberInHousehold"]" required digits="true" min="1" data-msg-required="Please enter the number in household." />
                    <br />
                    <label for="inputNumberInCollege" class="form-label">Number in College:</label>
                    <input type="text" id="inputNumberInCollege" name="NumberInCollege" class="form-control form-fixed-width" value="@Model["NumberInCollege"]" required digits="true" min="1" data-msg-required="Please enter a value" />
                    <div class="description">Total number of people in your household that will attend college during the next academic year, not including your parent(s)</div>
                    <br />
                    <label for="inputStateOfResidency" class="form-label">State of Residency:</label>
                    <select id="inputStateOfResidency" name="StateOfResidency" class="form-control form-fixed-width" required>
                        <option value="Alabama">Alabama</option>
                        <option value="Alaska">Alaska</option>
                        <option value="AmericanSamoa">American Samoa</option>
                        <option value="Arizona">Arizona</option>
                        <option value="Arkansas">Arkansas</option>
                        <option value="California">California</option>
                        <option value="CanadaAndCanadianProvinces">Canada And Canadian Provinces</option>
                        <option value="Colorado">Colorado</option>
                        <option value="Connecticut">Connecticut</option>
                        <option value="Delaware">Delaware</option>
                        <option value="DistrictOfColumbia">District Of Columbia</option>
                        <option value="FederatedStatesOfMicronesia">Federated States Of Micronesia</option>
                        <option value="Florida">Florida</option>
                        <option value="Georgia">Georgia</option>
                        <option value="Guam">Guam</option>
                        <option value="Hawaii">Hawaii</option>
                        <option value="Idaho">Idaho</option>
                        <option value="Illinois">Illinois</option>
                        <option value="Indiana">Indiana</option>
                        <option value="Iowa">Iowa</option>
                        <option value="Kansas">Kansas</option>
                        <option value="Kentucky">Kentucky</option>
                        <option value="Louisiana">Louisiana</option>
                        <option value="Maine">Maine</option>
                        <option value="MarshallIslands">Marshall Islands</option>
                        <option value="Maryland">Maryland</option>
                        <option value="Massachusetts">Massachusetts</option>
                        <option value="Mexico">Mexico</option>
                        <option value="Michigan">Michigan</option>
                        <option value="Minnesota">Minnesota</option>
                        <option value="Mississippi">Mississippi</option>
                        <option value="Missouri">Missouri</option>
                        <option value="Montana">Montana</option>
                        <option value="Nebraska">Nebraska</option>
                        <option value="Nevada">Nevada</option>
                        <option value="New Hampshire">New Hampshire</option>
                        <option value="NewJersey">New Jersey</option>
                        <option value="NewMexico">New Mexico</option>
                        <option value="NewYork">New York</option>
                        <option value="NorthCarolina">North Carolina</option>
                        <option value="NorthDakota">North Dakota</option>
                        <option value="NorthernMarianaIslands">Northern Mariana Islands</option>
                        <option value="Ohio">Ohio</option>
                        <option value="Oklahoma">Oklahoma</option>
                        <option value="Oregon">Oregon</option>
                        <option value="Palau">Palau</option>
                        <option value="Pennsylvania">Pennsylvania</option>
                        <option value="PuertoRico">Puerto Rico</option>
                        <option value="RhodeIsland">Rhode Island</option>
                        <option value="SouthCarolina">South Carolina</option>
                        <option value="SouthDakota">South Dakota</option>
                        <option value="Tennessee">Tennessee</option>
                        <option value="Texas">Texas</option>
                        <option value="Utah">Utah</option>
                        <option value="Vermont">Vermont</option>
                        <option value="VirginIslands">Virgin Islands</option>
                        <option value="Virginia">Virginia</option>
                        <option value="Washington">Washington</option>
                        <option value="WestVirginia">West Virginia</option>
                        <option value="Wisconsin">Wisconsin</option>
                        <option value="Wyoming">Wyoming</option>
                        <option value="Other">Other</option>
                    </select>
                    <br />
                    <label for="inputHousing" class="form-label">Housing Option:</label>
                    <select id="inputHousing" name="Housing" class="form-control form-fixed-width" required>
                        <option value="OnCampus">On Campus</option>
                        <option value="OffCampus">Off-Campus</option>
                        <option value="Commuter">Commuter</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-6">
        <div class="panel panel-primary">
            <div class="panel-heading"><strong>Parents</strong></div>
            <div class="panel-body">
                <div class="form-group">
                    <label for="inputOldestParentAge" class="form-label">Age of Oldest Parent:</label>
                    <input type="text" id="inputOldestParentAge" name="OldestParentAge" class="form-control form-fixed-width" value="@Model["OldestParentAge"]" required digits="true" min="1" data-msg-required="Please enter the age of the oldest parent" />
                    <br />
                    <label for="inputMaritalStatus" class="form-label">Parent(s)' Marital Status:</label>
                    <select id="inputMaritalStatus" name="MaritalStatus" class="form-control form-fixed-width" required>
                        <option value="single">Single/Separated/Divorced</option>
                        <option value="married">Married/Remarried</option>
                    </select>
                    <br />
                    <label for="inputFirstParentWorking" class="form-label">Did the First Parent Work?</label>
                    <select id="inputFirstParentWorking" name="FirstParentWorking" class="form-control form-fixed-width" required>
                        <option value="true">Yes</option>
                        <option value="false">No</option>
                    </select>
                    <span id="spanFirstParentWorkIncome" style="display:none;">
                        <br />
                        <label for="inputFirstParentWorkIncome" class="form-label">First Parent's Income Earned From Work:</label>
                        <input type="text" id="inputFirstParentWorkIncome" name="FirstParentWorkIncome" class="form-control form-fixed-width" value="@Model["FirstParentWorkIncome"]" required number="true" data-msg-required="Please enter a value or zero" />
                    </span>
                    <br />
                    <label for="inputSecondParentWorking" class="form-label">Did the Second Parent Work?</label>
                    <select id="inputSecondParentWorking" name="SecondParentWorking" class="form-control form-fixed-width" required>
                        <option value="true">Yes</option>
                        <option value="false">No</option>
                    </select>
                    <span id="spanSecondParentWorkIncome" style="display:none;">
                        <br />
                        <label for="inputSecondParentWorkIncome" class="form-label">Second Parent's Income Earned From Work:</label>
                        <input type="text" id="inputSecondParentWorkIncome" name="SecondParentWorkIncome" class="form-control form-fixed-width" value="@Model["SecondParentWorkIncome"]" required number="true" data-msg-required="Please enter a value or zero" />
                    </span>
                    <br />
                    <label for="inputAreParentsTaxFilers" class="form-label">Did Parent(s) File Taxes?</label>
                    <select id="inputAreParentsTaxFilers" name="ParentsTaxFilers" class="form-control form-fixed-width" required>
                        <option value="true">Yes</option>
                        <option value="false">No</option>
                    </select>
                    <span id="spanAreParentsTaxFilers" style="display:none;">
                        <br />
                        <label for="inputParentAgi" class="form-label">Parent(s)' Adjusted Gross Income (AGI):</label>
                        <input type="text" id="inputParentAgi" name="ParentAgi" class="form-control form-fixed-width" value="@Model["ParentAgi"]" required number="true" data-msg-required="Please enter a value or zero" />
                        <br />
                        <label for="inputParentIncomeTax" class="form-label">Parent(s)' Income Tax Paid:</label>
                        <input type="text" id="inputParentIncomeTax" name="ParentIncomeTax" class="form-control form-fixed-width" value="@Model["ParentIncomeTax"]" required number="true" data-msg-required="Please enter a value or zero" />
                    </span>
                    <br />
                    <label for="inputParentUntaxedIncomeAndBenefits" class="form-label">Parent(s)' Untaxed Income and Benefits:</label>
                    <input type="text" id="inputParentUntaxedIncomeAndBenefits" name="ParentUntaxedIncomeAndBenefits" class="form-control form-fixed-width" value="@Model["ParentUntaxedIncomeAndBenefits"]" required number="true" data-msg-required="Please enter a value" />
                    <div class="description">Including child support and money received from friends or relatives</div>
                    <br />
                    <label for="inputParentAdditionalFinancialInfo" class="form-label">Parent(s)' Additional Financial Information:</label>
                    <input type="text" id="inputParentAdditionalFinancialInfo" name="ParentAdditionalFinancialInfo" class="form-control form-fixed-width" value="@Model["ParentAdditionalFinancialInfo"]" required number="true" data-msg-required="Please enter a value" />
                    <br />
                    <label for="inputParentCashSavingsChecking" class="form-label">Parent(s)' Cash, Savings, and Checking:</label>
                    <input type="text" id="inputParentCashSavingsChecking" name="ParentCashSavingsChecking" class="form-control form-fixed-width" value="@Model["ParentCashSavingsChecking"]" required number="true" data-msg-required="Please enter a value" />
                    <br />
                    <label for="inputParentInvestmentNetWorth" class="form-label">Net Worth of Parent(s)' Investments:</label>
                    <input type="text" id="inputParentInvestmentNetWorth" name="ParentInvestmentNetWorth" class="form-control form-fixed-width" value="@Model["ParentInvestmentNetWorth"]" required number="true" data-msg-required="Please enter a value" />
                    <br />
                    <label for="inputParentBusinessFarmNetWorth" class="form-label">Net Worth of Parent(s)' Business<br />and/or Investment Farm:</label>
                    <input type="text" id="inputParentBusinessFarmNetWorth" name="ParentBusinessFarmNetWorth" class="form-control form-fixed-width" value="@Model["ParentBusinessFarmNetWorth"]" required number="true" data-msg-required="Please enter a value" />
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-6">
        <div class="panel panel-primary">
            <div class="panel-heading"><strong>Student</strong></div>
            <div class="panel-body">
                <div class="form-group">
                    <label for="inputStudentWorking" class="form-label">Did the Student Work?</label>
                    <select id="inputStudentWorking" name="StudentWorking" class="form-control form-fixed-width" required>
                        <option value="true">Yes</option>
                        <option value="false">No</option>
                    </select>
                    <span id="spanStudentWorking" style="display:none;">
                        <br />
                        <label for="inputStudentWorkIncome" class="form-label">Student's Income Earned From Work:</label>
                        <input type="text" id="inputStudentWorkIncome" name="StudentWorkIncome" class="form-control form-fixed-width" value="@Model["StudentWorkIncome"]" required number="true" data-msg-required="Please enter a value or zero" />
                    </span>
                    <br />
                    <label for="inputStudentTaxFiler" class="form-label">Did the Student File Taxes?</label>
                    <select id="inputStudentTaxFiler" name="StudentTaxFiler" class="form-control form-fixed-width" required>
                        <option value="true">Yes</option>
                        <option value="false">No</option>
                    </select>
                    <span id="spanStudentTaxFiler" style="display:none;">
                        <br />
                        <label for="inputStudentAgi" class="form-label">Student's Adjusted Gross Income (AGI):</label>
                        <input type="text" id="inputStudentAgi" name="StudentAgi" class="form-control form-fixed-width" value="@Model["StudentAgi"]" required number="true" data-msg-required="Please enter a value or zero" />
                        <br />
                        <label for="inputStudentIncomeTax" class="form-label">Student's Income Tax Paid:</label>
                        <input type="text" id="inputStudentIncomeTax" name="StudentIncomeTax" class="form-control form-fixed-width" value="@Model["StudentIncomeTax"]" required number="true" data-msg-required="Please enter a value or zero" />
                    </span>
                    <br />
                    <label for="inputStudentUntaxedIncomeAndBenefits" class="form-label">Student's Untaxed Income and Benefits:</label>
                    <input type="text" id="inputStudentUntaxedIncomeAndBenefits" name="StudentUntaxedIncomeAndBenefits" class="form-control form-fixed-width" value="@Model["StudentUntaxedIncomeAndBenefits"]" required number="true" data-msg-required="Please enter a value" />
                    <div class="description">Including child support and money received from friends or relatives</div>
                    <br />
                    <label for="inputStudentAdditionalFinancialInfo" class="form-label">Student's Additional Financial Information:</label>
                    <input type="text" id="inputStudentAdditionalFinancialInfo" name="StudentAdditionalFinancialInfo" class="form-control form-fixed-width" value="@Model["StudentAdditionalFinancialInfo"]" required number="true" data-msg-required="Please enter a value" />
                    <br />
                    <label for="inputStudentCashSavingsChecking" class="form-label">Student's Cash, Savings, and Checking:</label>
                    <input type="text" id="inputStudentCashSavingsChecking" name="StudentCashSavingsChecking" class="form-control form-fixed-width" value="@Model["StudentCashSavingsChecking"]" required number="true" data-msg-required="Please enter a value" />
                    <br />
                    <label for="inputStudentInvestmentNetWorth" class="form-label">Net Worth of Student's Investments:</label>
                    <input type="text" id="inputStudentInvestmentNetWorth" name="StudentInvestmentNetWorth" class="form-control form-fixed-width" value="@Model["StudentInvestmentNetWorth"]" required number="true" data-msg-required="Please enter a value" />
                    <br />
                    <label for="inputStudentBusinessFarmNetWorth" class="form-label">Net Worth of Student's Business<br />and/or Investment Farm:</label>
                    <input type="text" id="inputStudentBusinessFarmNetWorth" name="StudentBusinessFarmNetWorth" class="form-control form-fixed-width" value="@Model["StudentBusinessFarmNetWorth"]" required number="true" data-msg-required="Please enter a value" />
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-12 col-lg-12">
        <button id="Calculate" class="btn btn-primary"><span class="glyphicon glyphicon-education"></span> Calculate!</button>
    </div>
</form>


@section Scripts {

    <script asp-add-nonce="true">

        $(document).ready(function () {
            var validator = $('#form').validate({
                onfocusout: function (element) {
                    this.element(element);
                }
            });

            $("#inputFirstParentWorking").change(function (e) {
                if ($("#inputFirstParentWorking").val() == "true") {
                    $("#spanFirstParentWorkIncome").show();
                    $("#inputFirstParentWorkIncome").val("");
                }
                else
                {   
                    $("#inputFirstParentWorkIncome").val("0");
                    $("#spanFirstParentWorkIncome").hide();
                }
            });

            $("#inputSecondParentWorking").change(function (e) {
                if ($("#inputSecondParentWorking").val() == "true") {
                    $("#inputSecondParentWorkIncome").val("");
                    $("#spanSecondParentWorkIncome").show();
                }
                else {
                    $("#inputSecondParentWorkIncome").val("0");
                    $("#spanSecondParentWorkIncome").hide();
                }
            });

            $("#inputAreParentsTaxFilers").change(function (e) {
                if ($("#inputAreParentsTaxFilers").val() == "true") {
                    $("#inputParentAgi").val("");
                    $("#inputParentIncomeTax").val("");
                    $("#spanAreParentsTaxFilers").show();
                }
                else {
                    $("#inputParentAgi").val("0");
                    $("#inputParentIncomeTax").val("0");
                    $("#spanAreParentsTaxFilers").hide();
                }
            });

            $("#inputStudentWorking").change(function (e) {
                if ($("#inputStudentWorking").val() == "true") {
                    $("#inputStudentWorkIncome").val("");
                    $("#spanStudentWorking").show();
                }
                else {
                    $("#inputStudentWorkIncome").val("0");
                    $("#spanStudentWorking").hide();
                }
            });

            $("#inputStudentTaxFiler").change(function (e) {
                if ($("#inputStudentTaxFiler").val() == "true") {
                    $("#inputStudentAgi").val("");
                    $("#inputStudentIncomeTax").val("");
                    $("#spanStudentTaxFiler").show();
                }
                else {
                    $("#inputStudentAgi").val("0");
                    $("#inputStudentIncomeTax").val("0");
                    $("#spanStudentTaxFiler").hide();
                }
            });
            
            $("#inputStateOfResidency").val("@Model["StateOfResidency"]");
            $("#inputHousing").val("@Model["Housing"]");
            $("#inputMaritalStatus").val("@Model["MaritalStatus"]");
            $("#inputFirstParentWorking").val("@Model["FirstParentWorking"]");
            $("#inputSecondParentWorking").val("@Model["SecondParentWorking"]");
            $("#inputAreParentsTaxFilers").val("@Model["ParentsTaxFilers"]");
            $("#inputStudentWorking").val("@Model["StudentWorking"]");
            $("#inputStudentTaxFiler").val("@Model["StudentTaxFiler"]");


            $("Calculate").click(function (e) {
                $('#form').valid();
            });
        });
    </script>
}
